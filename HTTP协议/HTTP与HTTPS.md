### HTTPS 与 HTTP

### 1.http和https的基本概念

**http** : 超文本传输协议，是互联网上应用最为广泛的一种网络协议，是一个客户端和服务器端请求和应答的标准（TCP），用于从WWW服务器传输超文本到本地浏览器的传输协议，它可以使浏览器更加高效，使网络传输减少。

**https**: 是以安全为目标的HTTP通道，简单讲是HTTP的安全版，即HTTP下加入**SSL**层，HTTPS的安全基础是SSL，因此加密的详细内容就需要**SSL**。

https的SSL加密是在传输层实现的

### 2.http和https的区别？

http传输的数据都是未加密的，也就是明文的，网景公司设置了SSL协议来对http协议传输的数据进行加密处理，简单来说https协议是由http和**SSL**协议构建的可进行加密传输和身份认证的网络协议，比http协议的安全性更高。

主要的区别如下：

* Https协议需要ca证书，费用较高。
* http是超文本传输协议，信息是明文传输，https则是具有安全性的**SSL**加密传输协议。
* 使用不同的链接方式，端口也不同，一般而言，http协议的端口为80，https的端口为443
* http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。

### 3.https协议的工作原理

2. 客户使用https url访问服务器，会与web 服务器建立**SSL**链接。
3. web服务器接收到客户端的请求之后，会将网站的证书（证书中包含了公钥返回给客户端）。
4. 客户端和web服务器端开始协商SSL链接的安全等级，也就是加密等级。
5. 客户端浏览器通过双方协商一致的安全等级，建立会话密钥，然后通过网站的公钥来加密会话密钥，并传送给网站。
6. web服务器通过自己的私钥解密出会话密钥。
7. web服务器通过会话密钥加密与客户端之间的通信。

### 4.https协议的优点

1. 使用HTTPS协议可认证用户和服务器，确保数据发送到正确的客户机和服务器
2. 可防止数据在传输过程中不被窃取、改变，确保数据的完整性。
3. HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，要比http协议安全

### 5. https协议的缺点

1. https握手阶段比较费时

2. https缓存不如http高效，会增加数据开销。

3. SSL证书也需要钱，功能越强大的证书费用越高。


[1. HTTPS原理讲解](https://zhuanlan.zhihu.com/p/27395037)

[2. 三次握手与四次挥手](https://juejin.im/post/5ccd0dfc6fb9a0324a08bb73)

### 6.SSL 层的加密

SSL层采用一种叫做公开秘钥加密的方式。

**对称秘钥加密**：加密和解密用同一个秘钥。

**公开秘钥加密**（非对称秘钥要加密）：加密和解密采用两把秘钥，一把是私有秘钥，一把是公开秘钥。公开秘钥进行加密，私有秘钥进行解密。



## HTTP2.0 的特点

1. HTTP/2采用二进制格式而非文本格式

   > 二进制协议解析起来更高效、“线上”更紧凑，更重要的是错误更少

2. HTTP/2是完全多路复用的，而非有序并阻塞的——只需一个连接即可实现并行

   > 多路传输(Multiplexing)能同时处理多个消息的请求和响应; 甚至可以在传输过程中将一个消息跟另外一个掺杂在一起.因此客户端只需要一个连接就能加载一个页面

3. 使用报头压缩，HTTP/2降低了开销

   > 当页面资源过多时，可以减少来回请求消息头，降低了开销

4. HTTP/2让服务器可以将响应主动“推送”到客户端缓存中

   > 服务器推送服务通过“推送”那些它认为客户端将会需要的内容到客户端的缓存中，以此来避免往返的延迟。

## 多路复用和长连接的区别

1.   多路复用：允许同时通过单一的 HTTP/2 连接发起多重的请求-响应消息
2. 长连接 ：进行一次数据传输后，不关闭连接，长期保持连通状态。如果两个应用程序之间有新的数据需要传输，则直接复用这个连接，无需再建立一个新的连接

> 怎么设置长连接：**Connection**: keep-alive

## 介绍HTTP协议(特征)

HTTP是一个基于TCP/IP通信协议来传递数据，属于应用层的一个协议，使用与分布式超媒体信息系统

