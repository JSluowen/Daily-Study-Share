### 数组的定义

数组是一种线性表的数据结构，具有连续的内存空间，来存储具有相同类型的数据。

### 数组自身最大的特性

具备随机访问的特性

> 数组是如何根据下标随机访问数组元素的？
>
> 当随机访问数组元素的时候，会通过寻址公式来查找。
>
> a[i]_address = base_address + i * data-type-size
>
> 内存块的首地址+下标索引*数组元素的大小

###  低效的插入和删除操作

**插入的操作**：在一个数组中插入一个元素，如果将元素插入到数组的末尾，那么所有的元素都不需要移动位置，此时时间的复杂度就是O(1)；如果在数组的开头插入元素，那么在当前插入位置后面的元素都需要往后移动，最坏的时候时间复杂度为O(n)。

**一种插入的处理技巧：**

如果数组元素不需要有序，那么可以将当前插入位置的元素先放到数组的末尾。这样时间复杂度就自动降为O(1)。

![img](https://static001.geekbang.org/resource/image/3f/dc/3f70b4ad9069ec568a2caaddc231b7dc.jpg)

**删除操作**：数组的删除操作和插入操作类似，删除末尾的元素，时间复杂度为O(1)；删除首位的元素，后面的元素都需要往前面移动，所以最坏的时间复杂度为O(n)。

**删除的处理技巧**：

在删除元素的过程中，为了避免删除一次元素，导致后面的元素移动一次，那么我们可以将多次的删除操作合并为一次操作。实现思想是这样的，将我们需要删除的元素进行标记，直到数组自身没有多余的储存空间的时候，我们在一次性删除标记的元素。这也是JVM标记清除垃圾回收算法的核心思想。 

### 思考：为什么数组是从索引0开始，而不是1开始？

从内部的寻址公式来看 **a[i]_address = base_address + i * data-type-size** ，如果从 1 开始的话，那么 i 值就需要变成 i-1 ，相当于程序内部多进行了一次减法运算，而查找数组元素的操作特别的频繁，对于性能提升到极致来考虑，所以索引从0开始。