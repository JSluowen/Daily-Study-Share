## TCP建立连接的三次握手过程

1. Client将标志为SYN置为1，随机选取序列号**seq=x**, Client发出连接请求，进入**SYN-SENT**状态。
2. Server收到请求后，由标志位**SYN=1**得知Client请求连接，Server 将 标志位**SYN**和**ACK**置为1 ，**ack=x+1**，产生序列号**seq=y**, 发给Client确认连接请求，进入**SYN-RCVD**状态，此时操作系统为TCP连接分配TCP缓存和变量。
3. Client收到确认消息后，检查序列号**seq**是否等于**x+1**，**ACK **是否为1 ，正确则将 **ACK** 标志位置为1 ，**ack = y+1** ，并且此时操作系统为该 TCP 连接分配 TCP 缓存和变量，发送给 Server，Server 检查 **ack **是否为 **y + 1**，**ACK **是否为 1，如果正确则连接建立成功，Client 和 Server 进入 确认连接状态，完成三次握手

> - 不要将确认序号ack与标志位中的ACK搞混了。
> - 确认方ack=发起方req+1，两端配对。

## 四次挥手

1. client 应用进程向TCP发出释放连接信息，终止数据发送，主动关闭TCP，进入等待状态。
2. Server收到连续释放报文段，发出确认报文段，进入关闭等待状态。
3. Server 发出连续释放报文段，Server处于最后确认状态，等待Client确认。
4. Client收到连续释放报文段后，发出确认释放报文段，Client处于时间等待状态，此时TCP未释放掉，需要经过时间等待计时器设置的时间2MSL**（MSL：报文最大生存时间）**后，Client进入关闭状态。

> **为什么需要经过2MSL(最大报文段生存时间)才能进入关闭状态？**
>
> 如果Client发送的确认释放连接信息Server没有收到，这时候Server会再次发送一个释放连接请求，而这个时候Client还处于等待状态的话，还可以再次发送确认信息

##  cdn原理

**CDN的全称是Content Delivery Network，即内容分发网络**。

CDN的基本原理：是广泛采用各种缓存服务器，将这些缓存服务器分布到用户访问相对集中的地区或网络中，在用户访问网站时，利用全局负载技术将用户的访问指向距离最近的工作正常的缓存服务器上，由缓存服务器直接响

## 请求方法head特性

1. 只请求资源的首部，

2. 检查超链接的有效性

3. 检查网页是否被修改

4. 用于自动搜索机器人获取网页的标志信息，获取rss种子信息，或者传递安全认证信息等

## OSI七层模型

应用层：文件传输，常用协议HTTP，snmp,FTP ,

表示层：数据格式化，代码转换，数据加密，

会话层：建立，解除会话

传输层：提供端对端的接口，tcp,udp

网络层：为数据包选择路由，IP，icmp

数据链路层：传输有地址的帧

物理层：二进制的数据形式在物理媒体上传输数据

## TCP/IP的网络模型

1. TCP/IP模型是一系列网络协议的总称，这些协议的目的是使得计算机之间可以进行信息交换，

2. TCP/IP模型四层架构从下到上分别是网络接口层，网际层，运输层，应用层

   > 链路层的作用是负责建立电路连接，是整个网络的物理基础，典型的协议包括以太网，ADSL等，
   >
   > 网络层负责分配地址和传送二进制数据，主要协议是IP协议，
   >
   > 传输层负责传送文本数据，主要协议是TCP
   >
   > 应用层负责传送各种最终形态的数据，是直接与用户信息打交道的层，主要协议是http，ftp等

